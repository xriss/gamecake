
# first install a require script
if ! [[ -x "$(command -v require)" ]] ; then

	echo " we need sudo to install require.sh to /usr/local/bin "
	sudo wget -O /usr/local/bin/require https://raw.githubusercontent.com/xriss/require.sh/main/require.sh
	sudo chmod +x /usr/local/bin/require

fi

# commands

require gcc
require make
require luajit

# libs

require lfs.so                  # lua-filesystem

# devs

require /usr/include/readline   # libreadline-dev
require /usr/include/GL         # libgl1-mesa-dev
require /usr/include/X11        # libx11-dev
require /usr/include/alsa       # libasound2-dev
require /usr/include/libudev.h  # libudev-dev
require /usr/include/pulse      # libpulse-dev
require /usr/include/luajit-2.1 # libluajit-5.1-dev
require /usr/include/SDL2       # libsdl2-dev
require /usr/include/openssl    # libssl-dev




if [ "$1" = "--extra" ]; then

# commands

	require upx
	require clang
	require i686-w64-mingw32-gcc

#vagrant and virtualbox for building in controlled environments

	require vagrant

# these are not commands ...
	
	require virtualbox
	require virtualbox-ext-pack

else

	echo ""
	echo " installed base dependencies only "
	echo ""
	echo " Run with --extra, eg ./install-build-dependencies --extra to install extra dependencies "
	echo ""

fi

